<script>
	export let percentage = 0;
	export let width = '1.6em';
	export let height = width;

	let batteryLevel = 'green';

	$: if (percentage >= 0 && percentage <= 20) {
		batteryLevel = 'red';
	} else if (percentage > 20 && percentage <= 30) {
		batteryLevel = 'orange';
	} else if (percentage > 30 && percentage <= 80) {
		batteryLevel = 'yellow';
	} else if (percentage > 80 && percentage <= 100) {
		batteryLevel = 'green';
	}
</script>

<svg
	class="inline fill-{batteryLevel} hover:cursor-pointer"
	xmlns="http://www.w3.org/2000/svg"
	{width}
	{height}
	viewBox="0 0 256 256"
	{...$$props}
>
	<title>{percentage}%</title>
	{#if batteryLevel === 'green'}
		<path
			class="fill-{batteryLevel}"
			d="M196 52H28A28 28 0 0 0 0 80v96a28 28 0 0 0 28 28h168a28 28 0 0 0 28-28V80a28 28 0 0 0-28-28m4 124a4 4 0 0 1-4 4H28a4 4 0 0 1-4-4V80a4 4 0 0 1 4-4h168a4 4 0 0 1 4 4Zm-16-72v48a12 12 0 0 1-24 0v-48a12 12 0 0 1 24 0m-40 0v48a12 12 0 0 1-24 0v-48a12 12 0 0 1 24 0m-40 0v48a12 12 0 0 1-24 0v-48a12 12 0 0 1 24 0m-40 0v48a12 12 0 0 1-24 0v-48a12 12 0 0 1 24 0m192 0v48a12 12 0 0 1-24 0v-48a12 12 0 0 1 24 0"
		/>
	{:else if batteryLevel === 'yellow'}
		<path
			class="fill-{batteryLevel}"
			d="M196 52H28A28 28 0 0 0 0 80v96a28 28 0 0 0 28 28h168a28 28 0 0 0 28-28V80a28 28 0 0 0-28-28m4 124a4 4 0 0 1-4 4H28a4 4 0 0 1-4-4V80a4 4 0 0 1 4-4h168a4 4 0 0 1 4 4Zm-56-72v48a12 12 0 0 1-24 0v-48a12 12 0 0 1 24 0m-40 0v48a12 12 0 0 1-24 0v-48a12 12 0 0 1 24 0m-40 0v48a12 12 0 0 1-24 0v-48a12 12 0 0 1 24 0m192 0v48a12 12 0 0 1-24 0v-48a12 12 0 0 1 24 0"
		/>
	{:else if batteryLevel === 'orange'}
		<path
			class="fill-{batteryLevel}"
			d="M196 52H28A28 28 0 0 0 0 80v96a28 28 0 0 0 28 28h168a28 28 0 0 0 28-28V80a28 28 0 0 0-28-28m4 124a4 4 0 0 1-4 4H28a4 4 0 0 1-4-4V80a4 4 0 0 1 4-4h168a4 4 0 0 1 4 4ZM64 104v48a12 12 0 0 1-24 0v-48a12 12 0 0 1 24 0m192 0v48a12 12 0 0 1-24 0v-48a12 12 0 0 1 24 0"
		/>
	{:else if batteryLevel === 'red'}
		<path
			class="fill-{batteryLevel}"
			d="M196 52H28A28 28 0 0 0 0 80v96a28 28 0 0 0 28 28h168a28 28 0 0 0 28-28V80a28 28 0 0 0-28-28m4 124a4 4 0 0 1-4 4H28a4 4 0 0 1-4-4V80a4 4 0 0 1 4-4h168a4 4 0 0 1 4 4Zm56-72v48a12 12 0 0 1-24 0v-48a12 12 0 0 1 24 0m-152 12v-16a12 12 0 0 1 24 0v16a12 12 0 0 1-24 0m28 36a16 16 0 1 1-16-16a16 16 0 0 1 16 16"
		/>
	{/if}
</svg>
